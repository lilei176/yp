{"remainingRequest":"D:\\yp\\vue-xm-yp\\node_modules\\babel-loader\\lib\\index.js!D:\\yp\\vue-xm-yp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\yp\\vue-xm-yp\\src\\components\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\yp\\vue-xm-yp\\src\\components\\login.vue","mtime":1561972506784},{"path":"D:\\yp\\vue-xm-yp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\yp\\vue-xm-yp\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\yp\\vue-xm-yp\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      upwd: \"\",\n      uname: \"\",\n      downIcon: true,\n      focusdel1: false,\n      focusdel2: false,\n      hint: '',\n      sheight: 0\n    };\n  },\n  created: function created() {\n    this.load;\n  },\n  computed: {\n    load: function load() {\n      this.sheight = window.innerHeight - 50;\n    }\n  },\n  methods: {\n    empty: function empty(n) {\n      if (n == 1) {\n        this.uname = \"\";\n      } else {\n        this.upwd = \"\";\n      }\n    },\n    lock: function lock() {\n      this.downIcon = !this.downIcon;\n    },\n    input: function input(a) {\n      if (a == 1) {\n        this.focusdel1 = true;\n      } else {\n        this.focusdel2 = true;\n      }\n    },\n    inputHidden: function inputHidden() {\n      this.focusdel1 = false;\n      this.focusdel2 = false;\n    },\n    login: function login() {\n      var _this = this;\n\n      var regname = /^[a-zA-Z\\d]\\w{3,11}[a-zA-Z\\d]$/;\n      var regupwd = /^\\w{3,10}$/;\n      var uname = this.uname;\n      var upwd = this.upwd;\n\n      if (!uname) {\n        this.hint = '请输入用户名';\n      } else if (!upwd) {\n        this.hint = '请输入密码';\n      } else if (!regname.test(uname)) {\n        this.hint = '用户名格式错误';\n      } else if (!regupwd.test(upwd)) {\n        this.hint = '密码格式错误';\n      } else {\n        this.hint = \"\";\n        this.axios.get(\"user/login\", {\n          params: {\n            uname: uname,\n            upwd: upwd\n          }\n        }).then(function (result) {\n          console.log(result);\n\n          if (result.data.code == 1) {\n            _this.hint = result.data.msg;\n            var uid = result.data.uid;\n            var realname = result.data.realname;\n\n            _this.$router.push({\n              name: 'home'\n            });\n\n            sessionStorage.setItem(\"uid\", uid);\n            sessionStorage.setItem(\"realname\", realname);\n          } else {\n            _this.hint = result.data.msg;\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA;AAEA,aAAA,EAFA;AAGA,gBAAA,IAHA;AAIA,iBAAA,KAJA;AAKA,iBAAA,KALA;AAMA,YAAA,EANA;AAOA,eAAA;AAPA,KAAA;AASA,GAXA;AAYA,SAZA,qBAYA;AACA,SAAA,IAAA;AACA,GAdA;AAeA,YAAA;AACA,QADA,kBACA;AACA,WAAA,OAAA,GAAA,OAAA,WAAA,GAAA,EAAA;AACA;AAHA,GAfA;AAqBA,WAAA;AACA,SADA,iBACA,CADA,EACA;AACA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,OAFA,MAEA;AACA,aAAA,IAAA,GAAA,EAAA;AACA;AACA,KAPA;AAQA,QARA,kBAQA;AACA,WAAA,QAAA,GAAA,CAAA,KAAA,QAAA;AACA,KAVA;AAWA,SAXA,iBAWA,CAXA,EAWA;AACA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,SAAA,GAAA,IAAA;AACA;AAEA,KAlBA;AAmBA,eAnBA,yBAmBA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KAtBA;AAuBA,SAvBA,mBAuBA;AAAA;;AACA,UAAA,UAAA,gCAAA;AACA,UAAA,UAAA,YAAA;AACA,UAAA,QAAA,KAAA,KAAA;AACA,UAAA,OAAA,KAAA,IAAA;;AACA,UAAA,CAAA,KAAA,EAAA;AACA,aAAA,IAAA,GAAA,QAAA;AACA,OAFA,MAEA,IAAA,CAAA,IAAA,EAAA;AACA,aAAA,IAAA,GAAA,OAAA;AACA,OAFA,MAEA,IAAA,CAAA,QAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,IAAA,GAAA,SAAA;AACA,OAFA,MAEA,IAAA,CAAA,QAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,GAAA,QAAA;AACA,OAFA,MAEA;AACA,aAAA,IAAA,GAAA,EAAA;AACA,aAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA;AAAA,kBAAA;AAAA,wBAAA;AAAA;AAAA;AAAA,SAAA,EAAA,IAAA,CAAA,kBAAA;AACA,kBAAA,GAAA,CAAA,MAAA;;AACA,cAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,IAAA,GAAA,OAAA,IAAA,CAAA,GAAA;AACA,gBAAA,MAAA,OAAA,IAAA,CAAA,GAAA;AACA,gBAAA,WAAA,OAAA,IAAA,CAAA,QAAA;;AACA,kBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA;AAAA,aAAA;;AACA,2BAAA,OAAA,CAAA,KAAA,EAAA,GAAA;AACA,2BAAA,OAAA,CAAA,UAAA,EAAA,QAAA;AACA,WAPA,MAOA;AACA,kBAAA,IAAA,GAAA,OAAA,IAAA,CAAA,GAAA;AACA;AACA,SAZA;AAaA;AACA;AApDA;AArBA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\" :style=\"{height:sheight+'px'}\">\r\n      <div class=\"title\">\r\n        <h3>欢迎登录有品</h3>\r\n      </div>\r\n       <div class=\"container-input\">\r\n        <div class=\"container-flex-input\">\r\n          <input  placeholder=\"用户名\" type=\"text\" required=\"required\" v-model=\"uname\" @blur=\"inputHidden\"  v-on:input =\"input(1)\"/>\r\n          <a class=\"uname\" href=\"javascript:;\" v-show=\"focusdel1\" @click=\"empty(1)\"></a>\r\n        </div>\r\n        <div class=\"container-flex-input\">\r\n          <input placeholder=\"密码\" type=\"password\" required=\"required\" v-show=\"downIcon\" @blur=\"inputHidden\" v-model=\"upwd\"  v-on:input =\"input()\"/>\r\n          <input placeholder=\"密码\" required=\"required\" type=\"text\" v-show=\"!downIcon\"  @blur=\"inputHidden\" v-model=\"upwd\"  v-on:input =\"input()\"/>\r\n          <a class=\"hidden\" href=\"javascript:;\" v-show=\"focusdel2\" @click=\"empty(2)\"></a>\r\n          <span @click=\"lock()\"><img v-show=\"downIcon\" src=\"image/yanjing.png\" alt=\"\"><img v-show=\"!downIcon\" src=\"image/yanjingclick.png\" alt=\"\"></span>    \r\n        </div>\r\n        <div>{{hint}}</div> \r\n        <mt-button class=\"btn\" size=\"large\" @click=\"login\">登录</mt-button>\r\n        <div class=\"change-show\">\r\n          <a href=\"\">短信验证码登录</a>\r\n        </div>\r\n        <div class=\"container-flex-a\">\r\n          <router-link to='/register'>立即注册</router-link>\r\n          <a href=\"javascript:;\">忘记密码</a>\r\n        </div>\r\n        <div class=\"container-flex-third\">\r\n          <a href=\"javascript:;\"><img src=\"image/weixin.png\" alt=\"\"></a>\r\n          <a href=\"javascript:;\"><img src=\"image/qq.png\" alt=\"\"></a>\r\n        </div>\r\n        <div class=\"container-flex-span\">\r\n          <span>登录代表你已经同意 <a href=\"javascript:;\">《有品用户协议》</a>、<a href=\"javascript:;\">《有品服务协议》</a>、<a href=\"javascript:;\">《有品服务规则》</a></span>\r\n        </div>\r\n      </div>\r\n    </div>   \r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return {\r\n      upwd:\"\",\r\n      uname:\"\",\r\n      downIcon:true,\r\n      focusdel1:false,\r\n      focusdel2:false,\r\n      hint:'',\r\n      sheight:0\r\n    }\r\n  },\r\n  created(){\r\n    this.load\r\n  },\r\n  computed:{\r\n    load(){\r\n      this.sheight=window.innerHeight-50\r\n    }\r\n    \r\n  },\r\n  methods:{\r\n    empty(n){\r\n     if(n==1){\r\n       this.uname=\"\";\r\n     }else{\r\n       this.upwd=\"\";\r\n     }\r\n    },\r\n    lock(){\r\n     this.downIcon = !this.downIcon\r\n    },\r\n    input(a){\r\n      if(a==1){\r\n        this.focusdel1=true;\r\n      }else{\r\n      this.focusdel2=true;\r\n    } \r\n      \r\n    },\r\n    inputHidden(){\r\n      this.focusdel1=false;\r\n      this.focusdel2=false;\r\n    },\r\n    login(){\r\n      var regname=/^[a-zA-Z\\d]\\w{3,11}[a-zA-Z\\d]$/\r\n      var regupwd=/^\\w{3,10}$/;\r\n      var uname=this.uname;\r\n      var upwd=this.upwd\r\n      if(!uname){\r\n        this.hint='请输入用户名'\r\n      }else if(!upwd){\r\n        this.hint='请输入密码'\r\n      }else if(!regname.test(uname)){\r\n        this.hint='用户名格式错误'\r\n      }else if(!regupwd.test(upwd)){\r\n        this.hint='密码格式错误'\r\n      }else{\r\n        this.hint=\"\"\r\n        this.axios.get(\"user/login\",{params:{uname,upwd}}).then(result=>{\r\n          console.log(result)\r\n        if(result.data.code==1){\r\n          this.hint=result.data.msg;\r\n          var uid=result.data.uid;\r\n          var realname=result.data.realname;       \r\n          this.$router.push({name:'home'})\r\n          sessionStorage.setItem(\"uid\",uid);\r\n          sessionStorage.setItem(\"realname\",realname);         \r\n        }else{\r\n          this.hint=result.data.msg;\r\n        }    \r\n      })\r\n      }\r\n      }\r\n  }\r\n  \r\n}\r\n</script>\r\n<style scoped>\r\n.container{\r\n  background: url(\"../../public/image/login.png\") no-repeat 0 0;\r\n      margin-top: 3.3em;\r\n}\r\n.title{\r\n  margin: 2em 0;\r\n}\r\n.title h3{\r\n  text-align: center;\r\n  font-weight: normal;\r\n color: rgb(102, 102, 102); \r\n}\r\n.container-input{\r\n  margin: 0 2em;\r\n}\r\n.container-flex-input{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid #8f8f94!important;\r\n}\r\n.container-flex-input input{\r\n  margin:0;padding:0;\r\n  border:0;outline: 0;\r\n  border:0;\r\n  width: 90%;\r\n  height: 58px;\r\n  line-height: 30px;\r\n}\r\n.container-flex-input a{\r\n  background:url(\"../../public/image/x0.png\") no-repeat 5px 18px;\r\n  height: 58px;\r\n  width: 10%;\r\n  margin-right: 10px;\r\n}\r\n.container-flex-input span img{\r\n  margin-top: 1em;\r\n}\r\n.container-flex-input .padlock{\r\n  height: 62px;\r\n  width: 10%;\r\n}\r\n.btn{\r\n background-image: linear-gradient(90deg, #FFDF62 100%, #FECD0F 0%)!important; \r\n  background: #8f8f94;\r\n  color: #000!important;\r\n  font-size: 16px;\r\n  margin-top: 1em;\r\n  border-radius: 20px;\r\n}\r\n.container-flex-a{\r\n  margin-top: 1em;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.container-flex-a a{\r\n   color: #ff6700!important;\r\n}\r\n.container-flex-third{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 52px 30px 10px;\r\n}\r\n.container-flex-span{\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n}\r\n.container-flex-span a{\r\n  color:#ff6700;\r\n}\r\n.change-show{\r\n  margin-top: 2em;  \r\n}\r\n.change-show a{\r\n  color:#ff6700;\r\n}\r\n</style>"],"sourceRoot":"src\\components"}]}